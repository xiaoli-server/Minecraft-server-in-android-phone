print("您要下载的版本是：（仅支持正式版1.14~1.21.11）")
num = input()

result = ""
if num == "1.21.11":  # 我的世界1.21.11正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.21.11/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.21.10":  # 我的世界1.21.10正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.21.10/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.21.9":  # 我的世界1.21.9正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.21.9/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.21.8":  # 我的世界1.21.8正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.21.8/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.21.7":  # 我的世界1.21.7正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.21.7/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.21.6":  # 我的世界1.21.6正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.21.6/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.21.5":  # 我的世界1.21.5正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.21.5/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.21.4":  # 我的世界1.21.4正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.21.4/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.21.3":  # 我的世界1.21.3正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.21.3/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.21.2":  # 我的世界1.21.2正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.21.2/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.21.1":  # 我的世界1.21.1正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.21.1/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.21":  # 我的世界1.21正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.21/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.20.6":  # 我的世界1.20.6正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.20.6/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.20.5":  # 我的世界1.20.5正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.20.5/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.20.4":  # 我的世界1.20.4正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.20.4/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.20.3":  # 我的世界1.20.3正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.20.3/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.20.2":  # 我的世界1.20.2正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.20.2/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.20.1":  # 我的世界1.20.1正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.20.1/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.20":  # 我的世界1.20正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.20/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.19.4":  # 我的世界1.19.4正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.19.4/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.19.3":  # 我的世界1.19.3正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.19.3/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.19.2":  # 我的世界1.19.2正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.19.2/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.19.1":  # 我的世界1.19.1正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.19.1/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.19":  # 我的世界1.19正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.19/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.18.2":  # 我的世界1.18.2正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.18.2/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.18.1":  # 我的世界1.18.1正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.18.1/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.18":  # 我的世界1.18正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.18/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.17.1":  # 我的世界1.17.1正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.17.1/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.17":  # 我的世界1.17正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.17/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.16.5":  # 我的世界1.16.5正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.16.5/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.16.4":  # 我的世界1.16.4正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.16.4/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.16.3":  # 我的世界1.16.3正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.16.3/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.16.2":  # 我的世界1.16.2正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.16.2/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.16.1":  # 我的世界1.16.1正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.16.1/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.16":  # 我的世界1.16正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.16/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.15.2":  # 我的世界1.15.2正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.15.2/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.15.1":  # 我的世界1.15.1正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.15.1/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.15":  # 我的世界1.15正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.15/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.14.4":  # 我的世界1.14.4正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.14.4/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.14.3":  # 我的世界1.14.3正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.14.3/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.14.2":  # 我的世界1.14.2正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.14.2/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.14.1":  # 我的世界1.14.1正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.14.1/0.18.4/1.1.1/server/jar"
    print(result)
elif num == "1.14":  # 我的世界1.14正式版
    result = "curl -OJ https://meta.fabricmc.net/v2/versions/loader/1.14/0.18.4/1.1.1/server/jar"
    print(result)
else:
    print("输入无效！请输入1.14~1.21.11之间的正式版版本号")

# 安全写入mcserver12.sh的第12行
if result != "":
    try:
        # 读取mcserver12.sh的所有行
        with open("mcserver12.sh", "r") as f:
            lines = f.readlines()
        
        # 自动补全到至少12行
        while len(lines) < 12:
            lines.append("\n")  # 不足时添加空行
        
        # 替换第12行（索引11）
        lines[11] = result + "\n"
        
        # 写回文件
        with open("mcserver12.sh", "w") as f:
            f.writelines(lines)
        print("已成功将结果写入mcserver12.sh的第12行！")
    except FileNotFoundError:
        print("错误：找不到mcserver12.sh文件，请确保脚本和mcserver12.sh在同一个文件夹！")
        
# 替换mcserver.sh的15,21行版本号
if num:
    try:
        with open("mcserver.sh", "r") as f:
            lines = f.readlines()
        
        # 替换第15行（索引14）的1.21.11
        if len(lines) >= 15:
            lines[13] = lines[13].replace("1.21.11", num)
        
        # 替换第21行（索引20）的1.21.11
        if len(lines) >= 21:
            lines[20] = lines[20].replace("1.21.11", num)
        
        with open("mcserver.sh", "w") as f:
            f.writelines(lines)
        print(f"已替换13、15、21行版本号为：{num}")
    except FileNotFoundError:
        print("找不到mcserver.sh文件！")

        print("找不到mcserver.sh文件！")
